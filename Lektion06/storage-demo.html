<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Storage API</title>
</head>

<body>
    <h1>Web Storage API</h1>
    <script>


        localStorage.setItem("fname", "Mahmud");
        localStorage.setItem("lname", "Al Hakim");

        console.log(localStorage.getItem('fname'));

        for (let i = 0; i < localStorage.length; i++) {
            const key = localStorage.key(i);
            console.log("Nyckel: " + key);
            console.log("Värde: " + localStorage.getItem(key));

        }

        localStorage.clear();


        // Lagra en array i LS
        const myArray = ['A', 'B', 'C'];
        localStorage.setItem("myArray", myArray); // OBS! Här lagras arrayen som en sträng

        console.log(localStorage.getItem("myArray")[0]);  // A 
        console.log(localStorage.getItem("myArray")[1]);  // OBS! , (kommatecken)

        // Det är viktigt att använda "stringify" på arrayer och objekt
        localStorage.setItem("myGoodArray", JSON.stringify(myArray));

        console.log(localStorage.getItem("myGoodArray")[0]);  // [  (OBS! vänster hakparentes)

        // OBS! Använd parse vid hämtning av arrayer och objekt från LS
        const arrayFromLS = JSON.parse(localStorage.getItem("myGoodArray"))

        console.log(arrayFromLS);
        console.log((arrayFromLS)[0]); // A
        console.log((arrayFromLS)[1]); // B
        console.log((arrayFromLS)[2]); // C


        // Spara ett objekt i LS

        const myObject = {
            first: 1,
            second: 2,
            third: 3
        };
        console.log(myObject);

        localStorage.setItem("myObject", myObject); // fel !!! [object Object]
        localStorage.setItem("myGoodObject", JSON.stringify(myObject)); // Rätt :-)

        let myObjFromLS = localStorage.getItem("myGoodObject"); // FEL
        console.log(myObjFromLS.first); // undefined

        myObjFromLS = JSON.parse(localStorage.getItem("myGoodObject"));
        console.log(myObjFromLS.first); // 1
        console.log(myObjFromLS.second); // 2
        console.log(myObjFromLS.third); // 3








        console.log(localStorage);

    </script>
</body>

</html>